actions:
    - description: |
        https://pttep.atlassian.net/browse/GDS-256 - Chanat K. Access All Modified 10 Sep 2024 for K.Sumbhath Wanwilairat Requested
        https://pttep.atlassian.net/browse/GDS-436
        https://pttep.atlassian.net/browse/SOSP-15934 - Khuchaifar Taemae
        https://pttep.atlassian.net/browse/GDS-720 - Jirapa P. Access All
        https://pttep.atlassian.net/browse/GDS-852 - SSHECN - Until 06 Dec 2024
        https://pttep.atlassian.net/browse/SOSP-16512 - ECM
        https://pttep.atlassian.net/browse/GDS-936
        https://pttep.atlassian.net/browse/GDS-1078
        https://pttep.atlassian.net/browse/GDS-1084
        https://pttep.atlassian.net/browse/GDS-1087
        https://pttep.atlassian.net/browse/GDS-1123 - TMS SA
        https://pttep.atlassian.net/browse/GDS-1119 - DDO-ENG
        https://pttep.atlassian.net/browse/GDS-1205
        https://pttep.atlassian.net/browse/GDS-1764 - zsiripitchach@pttep.com
        https://pttep.atlassian.net/browse/GDS-1811 - dcoe.dev.scmmarketplace.datadeveloper
        https://pttep.atlassian.net/browse/GDS-1893
        https://pttep.atlassian.net/browse/GDS-1890 - UAT IPPT
        https://pttep.atlassian.net/browse/GDS-1981 - ECM
        https://pttep.atlassian.net/browse/GDS-2246 - ECM
        https://pttep.atlassian.net/browse/GDS-2490
        https://pttep.atlassian.net/browse/GDS-2666
        https://pttep.atlassian.net/browse/SOSP-20240
        https://pttep.atlassian.net/browse/GDS-2827 - intern ODT/M
        https://pttep.atlassian.net/browse/GDS-2670 - SCM
        https://pttep.atlassian.net/browse/GDS-2852 - Engineering Datamart Development
        https://pttep.atlassian.net/browse/GDS-3058 - SCM Super user
        https://pttep.atlassian.net/browse/GDS-3080 - gcp-pttep-dp-usr@gcp-pttep-th-it-dp-prd.iam.gserviceaccount.com
        https://pttep.atlassian.net/browse/GDS-3093
        https://pttep.atlassian.net/browse/GDS-3104 - Re-org
        https://pttep.atlassian.net/browse/GDS-3198 - SCM Custodian
        https://pttep.atlassian.net/browse/SOSP-21446 - PWP SA
        https://pttep.atlassian.net/browse/SOSP-21444 - PWP SA UAT
        https://pttep.atlassian.net/browse/GDS-3332 - add GGG/O for OWO/P
        https://pttep.atlassian.net/browse/GDS-3373 - SCM
        https://pttep.atlassian.net/browse/GDS-3414 - add GGG/O for OWO/P UAT
        https://pttep.atlassian.net/browse/GDS-3491 - add GGG/O for OWO/P PRD
      rules:
        - config:
            predicate: "(\n  (  \n     rls_department IN ( 'EDM','EFE','ECM','EWP','ETS','EME','EMX','EDC','EDV' )\n  )\n   OR\n  ( PurchasingCategoryCode_BSTYP IN ('F') AND\n    (\n      ( SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ( 'EDM','EFE','ECM','EWP','ETS','EME','EMX','EDC','EDV' )\n      )\n    )\n  )\n  OR\n  ( PurchasingCategoryCode_BSTYP IN ('K') AND\n     ( SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ( 'EDM','EFE','ECM','EWP','ETS','EME','EMX','EDC','EDV' ) \n     )\n  )\n  OR\n  ( \n    SPLIT( WBSOwner_VERNA,'/') [SAFE_OFFSET(0)] IN ( 'EDM','EFE','ECM','EWP','ETS','EME','EMX','EDC','EDV' )\n  )\n  OR\n (\n    PurchasingNumber_EBELN = '3300020594'\n  )\n)\n"
          inclusions:
            groups:
                - delorean.datamanagement.eddl.production@pttep.com
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: "(\n  (  \n     @attributeValuesContains('EntraID.department', 'rls_department')\n  )\n   OR\n  ( PurchasingCategoryCode_BSTYP IN ('F') AND\n    (\n      ( @attributeValuesContains('EntraID.department', 'SPLIT( ContractHolderDepartment_IHREZ,\"/\") [SAFE_OFFSET(0)]') \n      )\n    )\n  )\n  OR\n  ( PurchasingCategoryCode_BSTYP IN ('K') AND\n     ( @attributeValuesContains('EntraID.department', 'SPLIT( ContractHolderDepartment_IHREZ,\"/\") [SAFE_OFFSET(0)]')  \n     )\n  )\n  OR\n  ( \n    @attributeValuesContains('EntraID.department', 'SPLIT( WBSOwner_VERNA,\"/\") [SAFE_OFFSET(0)]') \n  )\n  OR\n (\n    PurchasingNumber_EBELN = '3300020594'\n  )\n)\n"
          inclusions:
            attributes:
                - name: EntraID.department
                  value: EFE
                - name: EntraID.department
                  value: ECM
                - name: EntraID.department
                  value: EWP
                - name: EntraID.department
                  value: ETS   
                - name: EntraID.department
                  value: EME
                - name: EntraID.department
                  value: EMX
                - name: EntraID.department
                  value: EDC
                - name: EntraID.department
                  value: EDV
                - name: EntraID.division
                  value: EDM
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: rls_department IN ('ODT','ODC','OMS')
          inclusions:
            attributes:
                - name: EntraID.section
                  value: ODX/P
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: 
              (
                ( PurchasingCategoryCode_BSTYP IN ('F') AND 
                  (
                    rls_department IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW') OR TrackingNumber_BEDNR IN ('OLG/M'))
                  )
                OR
                ( PurchasingCategoryCode_BSTYP IN ('F') AND
                  (
                    SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW') OR (ContractHolderDepartment_IHREZ IN ( 'OLG/M' ))
                  )
                )
                OR
                ( PurchasingCategoryCode_BSTYP IN ('K') AND
                  ( 
                    SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW') OR (ContractHolderDepartment_IHREZ IN ('OLG/M'))
                  )
                )
                OR
                ( 
                  SPLIT( WBSOwner_VERNA,'/') [SAFE_OFFSET(0)] IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW')
                )
                OR
                (
                  ContractHolderDepartment_IHREZ IN ( 'GGG/O' )
                )
              )
          inclusions:
            attributes:
                - name: EntraID.section
                  value: OWO/P
            groups:
                - dataform-ippt-uat@pttep-th-corp-ippt-uat.iam.gserviceaccount.com
                - delorean.dev.ippt.datadeveloper@pttep.com
                - delorean.dev.ippt.datauser@pttep.com
                - delorean.ippt.datasupport@pttep.com
                - delorean.ippt.datauser@pttep.com
                - dataform-ippt@pttep-th-corp-ippt.iam.gserviceaccount.com
            operator: any
          type: Row Restriction by Custom Where Clause        
        - config:
            predicate: "(\n  ( PurchasingCategoryCode_BSTYP IN ('F') AND \n    ( rls_department IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW') OR TrackingNumber_BEDNR IN ('OLG/M'))\n    )\n   OR\n  ( PurchasingCategoryCode_BSTYP IN ('F') AND\n    (\n      ( SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW') OR (ContractHolderDepartment_IHREZ IN ( 'OLG/M' ))\n      )\n    )\n  )\n  OR\n  ( PurchasingCategoryCode_BSTYP IN ('K') AND\n     ( SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW') OR (ContractHolderDepartment_IHREZ IN ('OLG/M'))\n     )\n  )\n  OR\n  ( \n    SPLIT( WBSOwner_VERNA,'/') [SAFE_OFFSET(0)] IN ('OTF','OTN','OWE','OTF1','OWO','OFE','OFD','OFW')\n  )\n)\n"
          inclusions:
            attributes:
                - name: EntraID.division
                  value: OWO
            groups:
                - delorean.dev.ippt.datadeveloper@pttep.com
                - delorean.dev.ippt.datauser@pttep.com
                - dataform-ippt-uat@pttep-th-corp-ippt-uat.iam.gserviceaccount.com
                - delorean.ippt.datasupport@pttep.com
                - delorean.ippt.datauser@pttep.com
                - dataform-ippt@pttep-th-corp-ippt.iam.gserviceaccount.com
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: EXTRACT(YEAR FROM PurchasingDocumentDate_BEDAT) IN (2023,2024) OR EXTRACT(YEAR FROM POCreatedDate_AEDAT) IN (2023,2024)
          inclusions:
            groups:
                - datamart_supplychain.datauser
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: "(\n  ( PurchasingCategoryCode_BSTYP IN ('F') AND \n    ( rls_department IN ('EAL', 'EAP', 'EAU', 'ECM', 'ECN', 'EDC', 'EDV', 'EFE', 'EME', 'EMI', 'EMX', 'ETS', 'EWP', 'EDP', 'ENX') OR TrackingNumber_BEDNR IN ('OLG/M'))\n    )\n   OR\n  ( PurchasingCategoryCode_BSTYP IN ('F') AND\n    (\n      ( SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ('EAL', 'EAP', 'EAU', 'ECM', 'ECN', 'EDC', 'EDV', 'EFE', 'EME', 'EMI', 'EMX', 'ETS', 'EWP', 'EDP', 'ENX') OR (ContractHolderDepartment_IHREZ IN ( 'OLG/M' ))\n      )\n    )\n  )\n  OR\n  ( PurchasingCategoryCode_BSTYP IN ('K') AND\n     ( SPLIT( ContractHolderDepartment_IHREZ,'/') [SAFE_OFFSET(0)] IN ('EAL', 'EAP', 'EAU', 'ECM', 'ECN', 'EDC', 'EDV', 'EFE', 'EME', 'EMI', 'EMX', 'ETS', 'EWP', 'EDP', 'ENX') OR (ContractHolderDepartment_IHREZ IN ('OLG/M'))\n     )\n  )\n  OR\n  ( \n    SPLIT( WBSOwner_VERNA,'/') [SAFE_OFFSET(0)] IN ('EAL', 'EAP', 'EAU', 'ECM', 'ECN', 'EDC', 'EDV', 'EFE', 'EME', 'EMI', 'EMX', 'ETS', 'EWP', 'EDP', 'ENX')\n  )\n)\n"
          inclusions:
            groups:
                - delorean.ddo.engineeringdevelopment.dataanalyst@pttep.com
                - dataform-ddo-engineering@pttep-th-corp-dw-dev.iam.gserviceaccount.com
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: rls_department IN ('EME','EMX','PS1','PFO1','PFO2','PFO3','EMI','ECM','OMI')
          inclusions:
            groups:
                - delorean.uat.msm.developer@pttep.com
                - msm-bq-viewer@pttep-th-corp-msm-uat.iam.gserviceaccount.com
                - dcoe.msm.datasupport
                - msm-bq-viewer@pttep-th-corp-msm.iam.gserviceaccount.com
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: rls_department IN ('OTF','OFE')
          inclusions:
            groups:
                - Khuchaifar Taemae
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: rls_department IN ('TTM', 'BTK', 'OTK', 'OTM') AND Created_Datetime >= '2019-01-01'
          inclusions:
            groups:
                - tms-bq-viewer@pttep-th-corp-tms.iam.gserviceaccount.com
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: 1=1
          inclusions:
            groups:
                - Chanat Koaysomboon
                - SCM Service Account
                - Jirapa Prakartchai
                - uat.sshecn.datamanagement@pttep.com
                - dataform-sshecn-uat@pttep-th-corp-sshecn-uat.iam.gserviceaccount.com
                - sshecn-bq-viewer@pttep-th-corp-sshecn-uat.iam.gserviceaccount.com
                - sshecn.datamanagement@pttep.com
                - dataform-sshecn@pttep-th-corp-sshecn.iam.gserviceaccount.com
                - sshecn-bq-viewer@pttep-th-corp-sshecn.iam.gserviceaccount.com
                - datasupport.ddo.supplychain@pttep.com
                - Siripitcha Charoensuk
                - dcoe.dev.scmmarketplace.datadeveloper
                - composer-scm-marketplace@gcp-pttep-th-it-dp-dev.iam.gserviceaccount.com
                - ODT/M Intern
                - apihub-bq@pttep-th-corp-apihub-uat.iam.gserviceaccount.com
                - apihub-bq-scm@pttep-th-corp-apihub-uat.iam.gserviceaccount.com
                - apihub-bq@pttep-th-corp-apihub.iam.gserviceaccount.com
                - apihub-bq-scm@pttep-th-corp-apihub.iam.gserviceaccount.com
                - pwp-bq-viewer@pttep-th-corp-pwp.iam.gserviceaccount.com
                - pwp-bq-viewer@pttep-th-corp-pwp-uat.iam.gserviceaccount.com
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: | 
              (
                (
                    PurchasingCategoryCode_BSTYP IN ('F') AND
                  ( rls_department IN ('EMI','EME','EMX','OMI') OR TrackingNumber_BEDNR IN ( 'OLG/M' )
                  )
                )
                OR
                (
                    PurchasingCategoryCode_BSTYP IN ('F') AND
                  (
                    ( (split( ContractHolderDepartment_IHREZ, "/") [safe_offset(0)] IN ('EMI','EME','EMX','OMI') ) OR (ContractHolderDepartment_IHREZ IN ( 'OLG/M' ))
                    )
                  )
                )
                OR
                (
                  PurchasingCategoryCode_BSTYP IN ('K') AND
                  (
                    ( (split( ContractHolderDepartment_IHREZ, "/") [safe_offset(0)] IN ('EMI','EME','EMX','OMI') ) OR (ContractHolderDepartment_IHREZ IN ('OLG/M' ))
                    )
                  )
                )
                OR
                (
                  @attributeValuesContains('EntraID.department', 'split( WBSOwner_VERNA, "/") [safe_offset(0)]')
                )
                OR
                (
                  rls_department = 'OLG' AND ItemCategory_MTART = 'Stock Item'
                )
              )
          inclusions:
            groups:
                - Keanika Ridleun
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: "(\n   (\n      PurchasingCategoryCode_BSTYP IN ('F') AND \n     ( @attributeValuesContains('EntraID.department', 'rls_department') OR TrackingNumber_BEDNR IN ( 'OLG/M' )\n     )\n   )\n   OR\n   (\n      PurchasingCategoryCode_BSTYP IN ('F') AND\n     (\n      ( @attributeValuesContains('EntraID.department', 'split( ContractHolderDepartment_IHREZ, \"/\") [safe_offset(0)]') OR (ContractHolderDepartment_IHREZ IN ( 'OLG/M' ))\n      )\n     )\n   )\n   OR\n   ( \n     PurchasingCategoryCode_BSTYP IN ('K') AND\n     (\n      ( @attributeValuesContains('EntraID.department', 'split( ContractHolderDepartment_IHREZ, \"/\") [safe_offset(0)]') OR (ContractHolderDepartment_IHREZ IN ('OLG/M' ))\n      )\n     )\n   )\n   OR\n   (\n     @attributeValuesContains('EntraID.department', 'split( WBSOwner_VERNA, \"/\") [safe_offset(0)]')\n   )\n   OR\n   ( \n     rls_department = 'OLG' AND ItemCategory_MTART = 'Stock Item'\n   )\n )\n"
          inclusions:
            attributes:
                - name: EntraID.isPTTEP
                  value: "true"
            operator: any
          type: Row Restriction by Custom Where Clause
        - config:
            predicate: "(\n   (\n      PurchasingCategoryCode_BSTYP IN ('F') AND \n     ( @attributeValuesContains('EntraID.department', 'rls_department')\n     )\n   )\n   OR\n   (\n      PurchasingCategoryCode_BSTYP IN ('F') AND\n     (\n      ( @attributeValuesContains('EntraID.department', 'split( ContractHolderDepartment_IHREZ, \"/\") [safe_offset(0)]')\n      )\n     )\n   )\n   OR\n   ( \n     PurchasingCategoryCode_BSTYP IN ('K') AND\n     (\n      ( @attributeValuesContains('EntraID.department', 'split( ContractHolderDepartment_IHREZ, \"/\") [safe_offset(0)]')\n      )\n     )\n   )\n   OR\n   (\n     @attributeValuesContains('EntraID.department', 'split( WBSOwner_VERNA, \"/\") [safe_offset(0)]')\n   )\n )\n"
          exceptions:
            groups:
                - Chanat Koaysomboon
                - SCM Service Account
                - Jirapa Prakartchai
                - uat.sshecn.datamanagement@pttep.com
                - dataform-sshecn-uat@pttep-th-corp-sshecn-uat.iam.gserviceaccount.com
                - sshecn-bq-viewer@pttep-th-corp-sshecn-uat.iam.gserviceaccount.com
                - sshecn.datamanagement@pttep.com
                - dataform-sshecn@pttep-th-corp-sshecn.iam.gserviceaccount.com
                - sshecn-bq-viewer@pttep-th-corp-sshecn.iam.gserviceaccount.com
                - datasupport.ddo.supplychain@pttep.com
                - Siripitcha Charoensuk
                - dcoe.dev.scmmarketplace.datadeveloper
                - composer-scm-marketplace@gcp-pttep-th-it-dp-dev.iam.gserviceaccount.com
                - gcp-pttep-dp-usr@gcp-pttep-th-it-dp-prd.iam.gserviceaccount.com
                - scm.custodian.datauser
            operator: any
          type: Row Restriction by Custom Where Clause
circumstanceOperator: all
circumstances:
    - tag: Data Entity.PO.Table.datamart_supplychain_procurement.po
      type: tags
    - tag: Environment.PRD
      type: tags
    - domains:
        - name: Procurement
      type: domains
name: 'PO: Official Mart PRD'
policyKey: 'PO: Official Mart PRD'
staged: false
template: false
type: data
